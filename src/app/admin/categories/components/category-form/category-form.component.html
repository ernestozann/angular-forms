<form [formGroup]="form" (ngSubmit)="save()">
	<mat-card>
		<mat-card-header>
			<mat-card-title>Categoria</mat-card-title>
		</mat-card-header>
		<mat-card-content>
			<div class="row">
				<div class="col-xs">
					<mat-form-field>
						<mat-label>Nombre</mat-label>
						<input placeholder="Nombre" formControlName="name" matInput type="text">
						<div class="messages" *ngIf="nameField.touched && nameField.invalid">
							<mat-error *ngIf="nameField.hasError('required')">
								Este campo es requerido
							</mat-error>
						</div>
					</mat-form-field>
				</div>
			</div>
			<div class="row">
				<div class="col-xs">
					<img *ngIf="imageField.value" [src]="imageField.value">
					<!-- <img *ngIf="(image$ | async) as image" [src]="image"> -->
					<input (change)="uploadFile($event)" placeholder="Image" type="file">
					<div class="messages" *ngIf="imageField.touched && imageField.invalid">
						<mat-error *ngIf="imageField.hasError('required')">
							Este campo es requerido
						</mat-error>
						<mat-error *ngIf="imageField.hasError('minlenght')">
							Debe contener minimo 4 caracteres
						</mat-error>
						<mat-error *ngIf="imageField.hasError('not_available')">
							Este nombre ya lo tiene otra categoria
						</mat-error>
					</div>
				</div>
			</div>
		</mat-card-content>
		<mat-card-actions>
			<button mat-raised-button type="submit">Guardar categoria</button>
		</mat-card-actions>
	</mat-card>
</form>